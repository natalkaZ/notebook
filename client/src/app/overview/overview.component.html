<div *ngIf="notes$ | async as notes; else loader" cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
  <div *ngIf="notes.length !== 0; else empty">
    <div *ngFor="let note of notes; let i = index" cdkDrag>
      <mat-card class="example-box overview" @items>
        <mat-card-header>
          <p class="note-date">{{note.date | date}}</p>
          <button mat-icon-button>
            <mat-icon aria-label="Close note" class="delete-icon" (click)="deleteNote(note)" mat-dialog-close>close</mat-icon>
          </button>
          <mat-card-title>{{note.title}}</mat-card-title>
        </mat-card-header>
        <mat-card-content class="note-description">
            <p>{{note.description}}</p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button color="primary" (click)="editNote(note)">See more...</button>
          <button mat-icon-button>
            <mat-icon aria-label="Delete note" (click)="deleteNote(note)">delete</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <ng-template #empty>
    <p class="empty">You have no one notes yet. Plese, create first one.</p>
  </ng-template>
</div>

<button mat-fab class="accent" class="add-button" #floating>
  <mat-icon aria-label="Add new notes" (click)="addNote()">add</mat-icon>
</button>

<ng-template #loader>
    <mat-progress-spinner mode="indeterminate" color="accent"></mat-progress-spinner>
</ng-template>
